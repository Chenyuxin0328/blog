<template>
  <div class="landing-page">
    <!-- ä¸Šæ–¹æ ‡é¢˜åŒºåŸŸ -->
    <div class="header-section">
      <div class="logo-container">
        <img src="@/assets/icons/logo.png" alt="Logo" class="logo" />
      </div>

      <h1 class="title">
        <span class="text-gradient">Code & Life</span>
      </h1>

      <div class="subtitle">
        åˆ†äº«æŠ€æœ¯ï¼Œè®°å½•ç”Ÿæ´»
      </div>

      <div class="scroll-hint">
        å‘ä¸‹æ»‘åŠ¨æ¢ç´¢æ›´å¤š
        <div class="scroll-arrow">â†“</div>
      </div>
    </div>

    <!-- ä»‹ç»éƒ¨åˆ† -->
    <div class="intro-section animate-on-scroll text-scale-section">
      <div class="text-content">
        <h2 class="section-title">å…³äºæˆ‘</h2>
        <p class="intro-text">
          å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é™ˆå®‡æ–°ï¼Œç›®å‰æ˜¯ä¸€åå¤§äºŒå­¦ç”Ÿã€‚æ¬¢è¿æ¥åˆ° <strong>Code & Life</strong>ï¼Œè¿™æ˜¯æˆ‘ç‹¬ç«‹è®¾è®¡ä¸å¼€å‘çš„ä¸ªäººç½‘ç«™ã€‚åˆ›å»ºè¿™ä¸ªç½‘ç«™çš„åˆè¡·æ˜¯æƒ³è®°å½•æˆ‘çš„å­¦ä¹ è¿‡ç¨‹ï¼ŒåŒæ—¶åˆ†äº«ç”Ÿæ´»ä¸­çš„ç‚¹æ»´ã€‚
        </p>
        <p class="intro-text">
          æˆ‘å¯¹ Web å¼€å‘å……æ»¡å…´è¶£ï¼Œä¸»æ”»åç«¯æ–¹å‘ï¼Œä¹Ÿä¼šä¸€äº›å‰ç«¯æŠ€æœ¯ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘å¹³æ—¶å­¦ä¹ ä¸­çš„æ€»ç»“ã€é¡¹ç›®å®è·µè¿‡ç¨‹ï¼Œä»¥åŠæˆ‘å¯¹æŠ€æœ¯å’Œç”Ÿæ´»çš„æ€è€ƒä¸æ„Ÿæ‚Ÿã€‚
        </p>
        <p class="intro-text">
          å¸Œæœ›è¿™ä¸ªç©ºé—´èƒ½å¸å¼•æ›´å¤šçƒ­çˆ±ç¼–ç¨‹çš„æœ‹å‹ï¼Œä¸€èµ·äº¤æµã€æˆé•¿ã€è¿›æ­¥ã€‚å¦‚æœä½ å¯¹æŠ€æœ¯æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»æˆ‘ä¸€èµ·å­¦ä¹ ï¼
        </p>
      </div>
    </div>

    <!-- æŠ€æœ¯æ¢ç´¢åŒºåŸŸ -->
    <div class="section-wrapper tech-section animate-on-scroll">
      <div class="text-container text-scale-section">
        <div class="text-content">
          <h2 class="content-title">æŠ€æœ¯æ¢ç´¢</h2>
          <p class="description">
            è¿™æ˜¯ä¸€ä¸ªé›†æŠ€æœ¯ä¸ç”Ÿæ´»äºä¸€ä½“çš„ä¸ªäººç©ºé—´ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«è‡ªå·±çš„ä»£ç ã€å­¦ä¹ ç»éªŒã€å¼€å‘æ„Ÿæ‚Ÿï¼Œ<br></br>ä¹Ÿä¼šè®°å½•æ¯ä¸€ä¸ªæˆé•¿çš„ç¬é—´ã€‚
          </p>
          <p class="description">
            æ— è®ºæ˜¯æ–°æ‰‹é˜¶æ®µçš„ç¬¬ä¸€ä¸ª"Hello World"ï¼Œè¿˜æ˜¯é¡¹ç›®å¼€å‘ä¸­çš„æ¯ä¸€æ¬¡è°ƒè¯•ï¼Œéƒ½æ˜¯æˆ‘æˆé•¿è·¯ä¸Šçš„è¶³è¿¹ã€‚
          </p>
          <p class="description">
            æˆ‘æ­£åœ¨æŒç»­å­¦ä¹ ä¸æ¢ç´¢ä»¥ä¸‹æŠ€æœ¯æ–¹å‘ï¼š
          </p>
          <ul class="feature-list">
            <li>å‰ç«¯å¼€å‘ï¼ˆHTML, CSS, JavaScript, Vue, React ç­‰ï¼‰</li>
            <li>åç«¯å¼€å‘ï¼ˆJava æ˜¯ä¸»åŠ›ï¼ŒSpring Boot ç­‰æ¡†æ¶ï¼‰</li>
            <li>é¡¹ç›®å®æˆ˜ä¸ä¸ªäººä½œå“å±•ç¤º</li>
            <li>æ•°æ®åº“ä¸å¸¸ç”¨å¼€å‘å·¥å…·</li>
            <li>å­¦ä¹ æ–¹æ³•ä¸æ•ˆç‡å·¥å…·åˆ†äº«</li>
          </ul>
        </div>
      </div>
      <div class="image-container right-image">
        <img
          src="@/assets/icons/dog2.png"
          alt="Tech"
          class="illustration styled-illustration"
          @mouseover="rotateDogHead('tech')"
          @mouseleave="stopRotation('tech')"
          :class="{ 'rotate-animation': techDogRotating }"
        />
      </div>
    </div>

    <!-- ç”Ÿæ´»æ„Ÿæ‚ŸåŒºåŸŸ -->
    <div class="section-wrapper life-section animate-on-scroll">
      <div class="image-container life-image">
        <img
          src="@/assets/icons/dog1.png"
          alt="Life"
          class="illustration styled-illustration"
          @mouseover="rotateDogHead('life')"
          @mouseleave="stopRotation('life')"
          :class="{ 'rotate-animation': lifeDogRotating }"
        />
      </div>
      <div class="text-container text-scale-section">
        <div class="text-content">
          <h2 class="content-title">ç”Ÿæ´»æ„Ÿæ‚Ÿ</h2>
          <p class="description">
            ç¼–ç¨‹æ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†ï¼Œè€Œç”Ÿæ´»ä¹Ÿå¡‘é€ ç€æˆ‘å¯¹æŠ€æœ¯çš„ç†è§£ã€‚é™¤äº†ä»£ç ï¼Œæˆ‘ä¹Ÿå–œæ¬¢è®°å½•æ—¥å¸¸çš„æ€è€ƒä¸æˆé•¿è¿‡ç¨‹ã€‚
          </p>
          <p class="description">
            åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«ä¸€äº›å­¦ä¹ ä¸­çš„å¿ƒå¾—ã€ç”Ÿæ´»ä¸­çš„å°æ•…äº‹ï¼Œä»¥åŠå¤§å­¦ç”Ÿæ´»ä¸­é‡åˆ°çš„äººä¸äº‹ã€‚
          </p>
          <p class="description">
            æˆ‘å…³å¿ƒçš„ä¸åªæ˜¯æŠ€æœ¯æœ¬èº«ï¼Œä¹ŸåŒ…æ‹¬ï¼š
          </p>
          <ul class="feature-list">
            <li>å¤§å­¦ç”Ÿæ¶¯çš„ç‚¹æ»´è®°å½•</li>
            <li>æŠ€æœ¯ä¸ç”Ÿæ´»ä¹‹é—´çš„å¹³è¡¡</li>
            <li>ç¼–ç¨‹å­¦ä¹ çš„å¿ƒæ€ç®¡ç†</li>
            <li>ç»“è¯†å¿—åŒé“åˆçš„æœ‹å‹</li>
            <li>ä¸ªäººæˆé•¿ä¸æœªæ¥è§„åˆ’</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- æ›´å¤šå†…å®¹åŒºåŸŸ -->
    <div class="more-section animate-on-scroll text-scale-section">
      <div class="text-content">
        <h2 class="section-title">æœŸå¾…ä¸ä½ åˆ†äº«</h2>
        <p class="more-text">
          åœ¨ <strong>Code & Life</strong>ï¼Œæˆ‘ä¸ä»…å¸Œæœ›è®°å½•å’Œåˆ†äº«ï¼Œä¹Ÿå¸Œæœ›ç»“è¯†æ›´å¤šæœ‹å‹ã€‚å¦‚æœä½ æ„¿æ„äº¤æµå­¦ä¹ ç»éªŒï¼Œæˆ–è€…æœ‰å¥½çš„æƒ³æ³•æƒ³è¦ä¸€èµ·åˆä½œï¼Œéå¸¸æ¬¢è¿ä½ è”ç³»æˆ‘ï¼
        </p>
        <p class="more-text">
          æ¯ä¸€æ®µä»£ç éƒ½æ˜¯æˆé•¿çš„è§è¯ï¼Œæ¯ä¸€æ¬¡åˆ†äº«éƒ½æ˜¯è‡ªæˆ‘çš„å‡åã€‚æœŸå¾…ä¸ä½ åœ¨ç¼–ç¨‹ä¸ç”Ÿæ´»çš„æ—…é€”ä¸­ç›¸é‡ï¼Œä¸€èµ·ä¹¦å†™å±äºæˆ‘ä»¬çš„ Code & Lifeã€‚
        </p>
      </div>

      <div class="button-container">
        <button class="start-button" @click="handleExplore">
          å¼€å§‹æ¢ç´¢
          <img src="@/assets/icons/point.png" alt="æ¢ç´¢" class="button-icon" />
        </button>
      </div>
    </div>

    <div class="background"></div>
  </div>
</template>

<script setup>
import { onMounted, ref } from 'vue';
import { useRouter } from 'vue-router';
import { ElNotification } from 'element-plus';
import { getVisitCount } from '@/api/stats';

const router = useRouter();
const techDogRotating = ref(false);
const lifeDogRotating = ref(false);

const handleExplore = () => {
  const hour = new Date().getHours();
  let greeting = 'æ™šä¸Šå¥½';
  if (hour >= 5 && hour < 12) {
    greeting = 'æ—©ä¸Šå¥½';
  } else if (hour >= 12 && hour < 18) {
    greeting = 'ä¸‹åˆå¥½';
  }

  ElNotification({
    title: `${greeting} ğŸ‘‹`,
    message: `æ¬¢è¿æ¥åˆ°ã€ŒCode&Lifeã€ï¼<br>æœŸå¾…å’Œä½ ä¸€èµ·æ¢ç´¢æœ‰è¶£çš„ä»£ç ä¸ç”Ÿæ´»~`,
    type: 'success',
    duration: 3000,
    dangerouslyUseHTMLString: true
  });

  // å¼‚æ­¥å‘é€è®¿å®¢ç»Ÿè®¡è¯·æ±‚ï¼Œä¸ç­‰å¾…å“åº”
  getVisitCount()
    .then(() => {
      console.log('è®¿å®¢ç»Ÿè®¡æ›´æ–°æˆåŠŸ');
    })
    .catch(error => {
      console.error('è®¿å®¢ç»Ÿè®¡æ›´æ–°å¤±è´¥:', error);
    });

  // ç›´æ¥è·³è½¬åˆ°é¦–é¡µ
  router.push('/home');
};

// å¤„ç†ç‹—å¤´æ—‹è½¬åŠ¨ç”»
const rotateDogHead = (type) => {
  if (type === 'tech') {
    techDogRotating.value = true;
  } else if (type === 'life') {
    lifeDogRotating.value = true;
  }
};

// åœæ­¢æ—‹è½¬åŠ¨ç”»
const stopRotation = (type) => {
  if (type === 'tech') {
    techDogRotating.value = false;
  } else if (type === 'life') {
    lifeDogRotating.value = false;
  }
};

onMounted(() => {
  // ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œè§¦å‘åŠ¨ç”»
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1 });

  // ä¸ºæ‰€æœ‰å¸¦æœ‰animate-on-scrollç±»çš„å…ƒç´ æ·»åŠ è§‚å¯Ÿ
  document.querySelectorAll('.animate-on-scroll').forEach((el, index) => {
    // æ·»åŠ å»¶è¿Ÿï¼Œä½¿å…ƒç´ æŒ‰é¡ºåºæ˜¾ç¤º
    el.style.transitionDelay = `${index * 0.1}s`;
    observer.observe(el);
  });
});
</script>

<style scoped>
.landing-page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding: 50px 80px;
  background: linear-gradient(135deg, #fff5f7, #ffe0eb);
  position: relative;
  overflow: hidden;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  text-align: left;
}

/* ä¸Šæ–¹æ ‡é¢˜åŒºåŸŸ */
.header-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 60px;
  z-index: 10;
  height: 90vh;
  justify-content: center;
}

.logo-container {
  margin-bottom: 20px;
}

.logo {
  height: 90px;
  filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.3));
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.logo:hover {
  transform: rotate(15deg) scale(1.1);
  filter: drop-shadow(0 0 15px rgba(255, 105, 180, 0.5));
}

.title {
  font-size: 4rem;
  font-weight: 900;
  margin-bottom: 16px;
  letter-spacing: -1.2px;
  color: #ff1493;
  text-align: center;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.title:hover {
  transform: scale(1.05);
  letter-spacing: 2px;
}

.text-gradient {
  background: linear-gradient(45deg, #ff69b4, #ff1493);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  user-select: none;
  display: inline-block;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.text-gradient:hover {
  background: linear-gradient(45deg, #ff1493, #ff69b4);
  -webkit-background-clip: text;
  background-clip: text;
  transform: translateY(-5px);
  text-shadow: 0 5px 15px rgba(255, 20, 147, 0.3);
}

.subtitle {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 24px;
  color: #ff69b4;
  user-select: none;
  text-align: left;
  transition: all 0.3s ease;
  position: relative;
}

.subtitle:hover {
  transform: translateX(10px);
  color: #ff1493;
}

.scroll-hint {
  margin-top: 40px;
  text-align: center;
  color: #ff69b4;
  font-size: 1.2rem;
  font-weight: 500;
  opacity: 0.8;
  animation: bounce 2s infinite;
}

.scroll-arrow {
  font-size: 1.8rem;
  margin-top: 10px;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0) scale(1);
    opacity: 0.8;
  }
  40% {
    transform: translateY(-15px) scale(1.1);
    opacity: 1;
  }
  60% {
    transform: translateY(-7px) scale(1.05);
    opacity: 0.9;
  }
}

/* æŠ€æœ¯æ¢ç´¢ & ç”Ÿæ´»æ„Ÿæ‚Ÿå®¹å™¨ï¼šæ°´å¹³æ’åˆ— */
.section-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px; /* å‡å°é—´è·ï¼Œä½¿å›¾ç‰‡æ›´é è¿‘æ–‡å­— */
  margin: 80px 0;
  flex-wrap: wrap; /* ä¸ºå“åº”å¼å‡†å¤‡ */
}

.section-wrapper.reverse {
  flex-direction: row-reverse;
}

.content-text {
  flex: 1;
  padding: 0 30px;
}

.content-title {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 25px;
  color: #ff69b4;
}

.description {
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 20px;
  color: #666;
}

.feature-list {
  margin-left: 20px;
  margin-bottom: 30px;
  color: #666;
  font-size: 1.1rem;
  line-height: 1.8;
}

.feature-list li {
  margin-bottom: 10px;
}

/* å›¾åƒæ ·å¼ç»Ÿä¸€ */
.illustration {
  max-width: 100%;
  max-height: 300px;
  user-select: none;
  filter: drop-shadow(0 0 20px rgba(255, 105, 180, 0.3));
  border-radius: 30px;
  object-fit: cover;
  margin: 0;
  flex: 1;
  cursor: pointer;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.illustration:hover {
  transform: scale(1.05) translateY(-10px);
  filter: drop-shadow(0 15px 35px rgba(255, 105, 180, 0.5));
}

/* æ›´å¤šå†…å®¹åŒºåŸŸ */
.more-section {
  margin-bottom: 80px;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}

.more-text {
  font-size: 1.25rem;
  line-height: 1.8;
  margin-bottom: 20px;
  color: #666;
}

.button-container {
  margin-top: 50px;
  display: flex;
  justify-content: center;
}

.start-button {
  background: linear-gradient(45deg, #ff69b4, #ff1493);
  color: white;
  font-weight: 700;
  padding: 16px 60px;
  font-size: 1.3rem;
  border-radius: 50px;
  box-shadow: 0 10px 25px rgba(255, 20, 147, 0.4);
  text-decoration: none;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  user-select: none;
  position: relative;
  border: none;
  overflow: hidden;
  cursor: pointer;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.start-button:before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 200%;
  height: 100%;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 45%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0.2) 55%,
    transparent 100%
  );
  transform: skewX(-25deg);
  transition: all 0.7s ease;
}

.start-button:hover {
  box-shadow: 0 15px 35px rgba(255, 20, 147, 0.6);
  transform: translateY(-6px) scale(1.03);
  letter-spacing: 2px;
}

.start-button:hover:before {
  left: 100%;
}

.start-button:active {
  transform: translateY(-2px) scale(0.98);
  box-shadow: 0 8px 15px rgba(255, 20, 147, 0.4);
}

.button-icon {
  width: 24px;
  height: 24px;
  margin-left: 12px;
  filter: brightness(0) invert(1);
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.start-button:hover .button-icon {
  transform: rotate(180deg) scale(1.2);
}

.arrow {
  margin-left: 12px;
  transition: transform 0.4s ease;
  display: inline-block;
}

.start-button:hover .arrow {
  transform: translateX(8px);
}

/* èƒŒæ™¯è£…é¥° */
.background {
  position: absolute;
  top: 0;
  left: 50%;
  width: 60vw;
  height: 100vh;
  background: radial-gradient(circle at center, rgba(255, 20, 147, 0.15), transparent 60%);
  filter: blur(120px);
  transform: translateX(-50%);
  z-index: 1;
  pointer-events: none;
}

/* å“åº”å¼ */
@media (max-width: 992px) {
  .landing-page {
    padding: 30px 20px;
  }

  .content-block,
  .content-block.reverse {
    flex-direction: column;
  }

  .content-text {
    padding: 0;
  }

  .illustration {
    margin: 20px 0;
    max-height: 200px;
  }

  .title {
    font-size: 3rem;
  }

  .subtitle {
    font-size: 1.5rem;
  }

  .section-title {
    font-size: 2rem;
  }

  .description, .intro-text, .more-text {
    font-size: 1rem;
  }

  .header-section {
    height: 70vh;
  }
}

.life-section .image-container {
  margin-right: 20px; /* å›¾ç‰‡å³ä¾§æ·»åŠ è¾¹è· */
}

/* ç”Ÿæ´»æ„Ÿæ‚Ÿå›¾ç‰‡è°ƒæ•´ */
.life-image {
  margin-left: 200px; /* å°†å›¾ç‰‡å‘å³ç§»åŠ¨ */
}
.right-image{
  margin-right: 250px;
}

/* ä»‹ç»éƒ¨åˆ† */
.intro-section {
  margin-bottom: 80px;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}

.section-title {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 30px;
  color: #ff1493;
}

.intro-text {
  font-size: 1.25rem;
  line-height: 1.8;
  margin-bottom: 20px;
  color: #666;
}

/* åŠ¨ç”» */
.animate-on-scroll {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease;
}

.animate-on-scroll.visible {
  opacity: 1;
  transform: translateY(0);
}

/* æŠ€æœ¯æ¢ç´¢ & ç”Ÿæ´»æ„Ÿæ‚Ÿå®¹å™¨ï¼šæ°´å¹³æ’åˆ— */

/* ç‹—å¤´æ—‹è½¬åŠ¨ç”» */
.rotate-animation {
  animation: dogRotate 3s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  transform-origin: center;
  cursor: pointer;
}

@keyframes dogRotate {
  0% {
    transform: rotate(0deg) scale(1);
  }
  25% {
    transform: rotate(-15deg) scale(1.1);
  }
  50% {
    transform: rotate(10deg) scale(1.05);
  }
  75% {
    transform: rotate(-5deg) scale(1.02);
  }
  100% {
    transform: rotate(0deg) scale(1);
  }
}

/* æ·»åŠ æ–‡å­—åŒºåŸŸç¼©æ”¾æ•ˆæœçš„CSS */
.text-scale-section {
  position: relative;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.text-scale-section:hover {
  transform: scale(1.02) translateY(-5px);
  z-index: 5;
}

.text-content {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 20px;
  border-radius: 15px;
  background-color: rgba(255, 255, 255, 0.1);
}

.text-scale-section:hover .text-content {
  background-color: rgba(255, 255, 255, 0.8);
  box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
  transform: translateY(-5px);
}
</style>

